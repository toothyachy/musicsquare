<% if current_user.queues.present? %>
  <%# pending %>
  <div class="row">
    <div class="col-4 d-flex align-items-center justify-content-center">
      <h1>My queues</h1>
    </div>
    <div class="listing-wrapper queue-wrapper col-8">
      <p><% current_user.queues.each do |request| %></p>
        <% if request.status == 'pending' %>
          <div class="listing queue rounded p-3 my-5">
            <%= image_tag request.listing.images.first %>
            <div class="listing-description mt-4">
              <strong><%= request.listing.name %></strong>
              <p>received a request to jam on <%= request.request_date %> at <%= request.request_time %> hours.</p>
              <br>
              <p><%= request.user.email %> says:</p>
              <p class="requestor-box"><%= request.requestor_comment %></p>
              <div class="d-flex justify-content-around mt-2">

                <%= link_to accept_request_path(request), data: { turbo_method: :patch }, class: 'text-decoration-none', value: 'accept' do %>
                  <p class="acceptance">Accept</i></p>
                <% end %>
                <%= link_to decline_request_path(request), data: { turbo_method: :patch }, class: 'text-decoration-none', value: 'decline' do %>
                  <p class="acceptance">Decline</i></p>
                <% end %>
                <p class="acceptance">Accept</p>
                <p class= "acceptance">Delete</p>
              </div>
            </div>
          </div>
        <% end %>
    <% end %>
    </div>
  </div>

  <%# approved %>
  <div class="row">
    <div class="col-4 d-flex align-items-center justify-content-center">
      <h1>Accepted</h1>
    </div>
    <div class="listing-wrapper queue-wrapper col-8">
      <p><% current_user.queues.each do |request| %></p>
        <% if request.status == 'accept' %>
          <div class="listing queue rounded p-3 my-5">
            <%= image_tag request.listing.images.first %>
            <div class="listing-description mt-4">
              <p>Username</p>
              <p>Date: <%= request.request_date %></p>
              <p>Time: <%= request.request_time %></p>
              <p class="requestor-box"><%= request.requestor_comment %></p>
              <div class="d-flex justify-content-around mt-2">
                <p class="acceptance">Accepted</i></p>
                <p class= "acceptance">Declined</p>
                <p class="acceptance">Accept</p>
                <p class= "acceptance">Delete</p>
              </div>
            </div>
          </div>
        <% end %>
    <% end %>
    </div>
  </div>

  <%# declined %>
  <div class="row">
    <div class="col-4 d-flex align-items-center justify-content-center">
      <h1>Declined</h1>
    </div>
    <div class="listing-wrapper queue-wrapper col-8">
      <p><% current_user.queues.each do |request| %></p>
        <% if request.status == 'decline' %>
          <div class="listing queue rounded p-3 my-5">
            <%= image_tag request.listing.images.first %>
            <div class="listing-description mt-4">
              <p>Username</p>
              <p>Date: <%= request.request_date %></p>
              <p>Time: <%= request.request_time %></p>
              <p class="requestor-box"><%= request.requestor_comment %></p>
              <div class="d-flex justify-content-around mt-2">
                <p class="acceptance">Accepted</i></p>
                <p class= "acceptance">Declined</p>
                <p class="acceptance">Accept</p>
                <p class= "acceptance">Delete</p>
              </div>
            </div>
          </div>
        <% end %>
    <% end %>
    </div>
  </div>

<% else %>
  <div class="nothing d-flex align-items-center justify-content-center">
  <p>You have nothing in your current queue.</p>
  </div>
<% end %>
